# Use shell.nix to get latest kubeseal, tflint, popeye, and other tools
use nix

# Set talos config path
export TALOSCONFIG="$PWD/terraform/01-infrastructure/talosconfig.yml"

# Set kubeconfig path (generated by terraform)
export KUBECONFIG="$PWD/terraform/01-infrastructure/kubeconfig"

# kubeseal configured to use standard defaults (kube-system namespace)

# Cluster banner
cat <<'EOF'
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ðŸš€ Talos Kubernetes Cluster Environment        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Authentik: https://auth.test-cluster.agentydragon.com

Helper commands:
  get-passwords  - Retrieve Authentik passwords (akadmin & agentydragon@gmail.com)
EOF

# Add scripts directory to PATH
PATH_add scripts
